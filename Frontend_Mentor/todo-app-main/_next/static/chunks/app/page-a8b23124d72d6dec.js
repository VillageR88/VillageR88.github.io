(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8994:function(e,t,n){Promise.resolve().then(n.bind(n,2813))},2813:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r,o,l,c,s=n(7437),a=n(6691),i=n.n(a),d={src:"/Frontend_Mentor/todo-app-main//_next/static/media/icon-check.5b02c047.svg",height:9,width:11,blurWidth:0,blurHeight:0},u={src:"/Frontend_Mentor/todo-app-main//_next/static/media/icon-cross.0653d954.svg",height:18,width:18,blurWidth:0,blurHeight:0},m=n(2265);(r=l||(l={})).All="All",r.Active="Active",r.Completed="Completed",(o=c||(c={})).Light="Light",o.Dark="Dark";let x={Light:{placeholder:"placeholder-[#98979D]",textInput:"text-[#3A393D]",text1:"text-[#5A586E]",text2:"text-[#BFBEC3]",text3:"text-[#B3B2BA]",textBottom:"text-[#93929A]",textHover:"hover:text-[#646578]",backgroundImage:"sm:bg-[url('./images/bg-desktop-light.jpg')] bg-[url('./images/bg-mobile-light.jpg')]",icon:{src:"/Frontend_Mentor/todo-app-main//_next/static/media/icon-moon.8e2b04c7.svg",height:26,width:26,blurWidth:0,blurHeight:0},background1Color:"bg-[#FAFAFA]",background2Color:"bg-[#FFFFFF]",lineColor:"bg-[#E9E8EC]",outlineColor:"outline-[#d7d7d7]",hoverOutlineColor:"hover:outline-black"},Dark:{placeholder:"placeholder-[#73758A]",textInput:"text-[#CACCE3]",text1:"text-[#CACCE3]",text2:"text-[#4E5065]",text3:"text-[#62647D]",textBottom:"text-[#50516D]",textHover:"hover:text-[#CACCE3]",backgroundImage:"sm:bg-[url('./images/bg-desktop-dark.jpg')] bg-[url('./images/bg-mobile-dark.jpg')]",icon:{src:"/Frontend_Mentor/todo-app-main//_next/static/media/icon-sun.ec906563.svg",height:26,width:26,blurWidth:0,blurHeight:0},background1Color:"bg-[#181824]",background2Color:"bg-[#25273C]",lineColor:"bg-[#34364C]",outlineColor:"outline-[#37394E]",hoverOutlineColor:"hover:outline-[#CACCE3]"}};function h(){let[e,t]=(0,m.useState)([]),[n,r]=(0,m.useState)(!1);(0,m.useEffect)(()=>{let e=localStorage.getItem("savedJSON");e?t(JSON.parse(e)):fetch("./data.json").then(e=>e.json()).then(e=>{t(e)}).catch(e=>{console.error(e)})},[]),(0,m.useEffect)(()=>{e.length>0&&localStorage.setItem("savedJSON",JSON.stringify(e))},[e]),(0,m.useEffect)(()=>{e.length>0&&!n&&r(!0)},[e.length,n]);let[o,l]=(0,m.useState)(null);(0,m.useEffect)(()=>{{let e=localStorage.getItem("preferredTheme");console.log(e),e&&("Light"===e||"Dark"===e)?l(e):(localStorage.removeItem("preferredTheme"),window.matchMedia("(prefers-color-scheme: dark)").matches?(l("Dark"),localStorage.setItem("preferredTheme","Dark")):(l("Light"),localStorage.setItem("preferredTheme","Light")))}},[]);let c=(0,m.useRef)(null),a=(0,m.useRef)(null),h=(0,m.useRef)(null),[g,p]=(0,m.useState)(null),[f,b]=(0,m.useState)(""),v=(0,m.useRef)(null),[C,k]=(0,m.useState)(!1),[j,w]=(0,m.useState)(!1),[N,_]=(0,m.useState)("All");(0,m.useEffect)(()=>{f.length>40&&b(f.slice(0,40))},[f]),(0,m.useEffect)(()=>{/Mobi|Android/i.test(navigator.userAgent)?w(!0):w(!1)},[]),(0,m.useEffect)(()=>{null!==h.current&&null!==g&&(g!==h.current&&(g<h.current?t([...e.slice(0,g),e[h.current],...e.slice(g,h.current),...e.slice(h.current+1)]):t([...e.slice(0,h.current),...e.slice(h.current+1,g+1),e[h.current],...e.slice(g+1)])),h.current=g)},[e,g]),(0,m.useEffect)(()=>{if(!j)return window.addEventListener("mouseup",()=>{k(!1),document.body.style.cursor="default"}),()=>{window.removeEventListener("mouseup",()=>{k(!1),document.body.style.cursor="default"})}},[C,j]),(0,m.useEffect)(()=>{if(C){let e=e=>{var t,n;v.current&&(v.current.style.top="".concat(e.clientY-30,"px"),a.current&&a.current.getBoundingClientRect().top+20>e.clientY&&(v.current.style.top="".concat(a.current.getBoundingClientRect().top,"px")),a.current&&a.current.getBoundingClientRect().bottom+10<e.clientY+100&&(v.current.style.top="".concat(a.current.getBoundingClientRect().bottom-120,"px"))),console.log(e.clientY+100),console.log(null===(n=a.current)||void 0===n?void 0:null===(t=n.getBoundingClientRect())||void 0===t?void 0:t.bottom)};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e),v.current&&document.body.removeChild(v.current),h.current=null}}},[C]);let y=e=>{let{completed:t,task:n,buttonCheckClick:r,buttonCrossCLick:l,classExtension:c,index:a}=e,f=(0,m.useRef)(null);return null!==o&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{visibility:C&&h.current===a?"hidden":"visible",transition:"visibility 0.3s"},ref:f,draggable:!0,onMouseEnter:()=>{p(a)},onDragStart:e=>{e.preventDefault(),h.current=a,f.current&&(v.current=f.current.cloneNode(!0),v.current.style.left=window.innerWidth>768?"calc(50% - 15.4em)":"0",v.current.style.height="full",v.current.style.paddingInline="1.5em",v.current.style.boxShadow="0 0 0.5em 0.1em #000000",v.current.style.color="#CACCE3",v.current.style.fontFamily="Josefin Sans",v.current.style.fontSize="1.1rem",v.current.style.fontWeight="normal",v.current.style.userSelect="none",v.current.style.pointerEvents="none",v.current.classList.add("w-[calc(100%-1.98rem)]"),v.current.classList.add("md:w-[30.8em]"),v.current.classList.add("self-center"),v.current.classList.add("fixed"),v.current.classList.add("md:ml-0"),v.current.classList.add("ml-4"),document.body.appendChild(v.current),document.body.style.cursor="grabbing",k(!0))},className:"".concat(c," h-[4em] w-full items-center gap-[1em] ").concat(x[o].background2Color," px-[1.5em] ").concat(0===a&&"rounded-t-[0.3em]"),children:[(0,s.jsx)("button",{className:" select-none",onClick:r,children:(0,s.jsx)("div",{className:"".concat(t&&"bg-gradient-to-br transition hover:outline-offset-2".concat(" ").concat(x[o].hoverOutlineColor)," \n            \n              flex h-[1.45em] w-[1.45em] items-center justify-center rounded-full from-[#6ABFFB] to-[#A373E8] outline outline-1 ").concat(x[o].outlineColor," transition hover:bg-gradient-to-br"),children:t?(0,s.jsx)(i(),{src:d,alt:"check",priority:!0,unoptimized:!0}):(0,s.jsx)("div",{className:"h-[1.29em] w-[1.29em] rounded-full ".concat(x[o].background2Color," transition")})})}),(0,s.jsx)("span",{className:"".concat(t?x[o].text2.concat(" ").concat("line-through"):x[o].text1," w-full select-none break-words bg-transparent px-2 text-[1.1rem] transition md:w-[25em]"),children:n}),g===a&&(0,s.jsx)("button",{className:"select-none",onClick:l,children:(0,s.jsx)(i(),{src:u,alt:"delete Task"})})]}),(0,s.jsx)("div",{onMouseEnter:()=>{p(a)},className:"".concat(!C&&"pointer-events-none"," absolute left-0 mt-[-4em] h-[4em] w-screen")})]})};return n&&null!==o&&(0,s.jsxs)("main",{className:"flex min-h-screen w-full flex-col items-center justify-center font-josefinSans",children:[(0,s.jsx)("div",{className:"h-[10em] w-full items-center bg-cover md:h-[18.8em] ".concat(x[o].backgroundImage," bg- bg-top bg-no-repeat md:bg-auto")}),(0,s.jsxs)("div",{className:"flex min-h-[31.2em] w-full flex-col items-center ".concat(x[o].background1Color," text-[#FEFFFE] transition"),children:[(0,s.jsxs)("div",{className:"mt-[-8em] w-full flex-col justify-center px-4 md:mt-[-14.4em] md:w-[33.8em] md:px-0",children:[(0,s.jsxs)("div",{className:"flex select-none items-center justify-between pr-2 md:pl-0 md:pr-0",children:[(0,s.jsx)("span",{draggable:!1,className:"pointer-events-none text-[2.45rem] font-[700] tracking-[0.4em]",children:"TODO"}),(0,s.jsx)("button",{onClick:()=>{localStorage.setItem("preferredTheme","Dark"===o?"Light":"Dark"),l("Dark"===o?"Light":"Dark")},className:"".concat(C&&"pointer-events-none"),children:(0,s.jsx)(i(),{draggable:!1,className:"h-fit pb-[0.5em] transition",src:x[o].icon,alt:"icon-sun"})})]}),(0,s.jsxs)("form",{onClick:()=>{c.current&&c.current.focus()},className:"".concat("Dark"===o?"shadow-[0_20px_30px_0px_rgba(0,0,0,0.3)]":"shadow-[0_20px_30px_0px_rgba(141,120,240,0.7)]"," mt-[1.9em] flex h-[4em] w-full items-center gap-[1em] ").concat(x[o].background2Color," rounded-[0.3em] pl-[1.5em] transition"),onSubmit:t=>{t.preventDefault(),""!==f&&(e.push({completed:!1,task:f}),b(""))},children:[(0,s.jsx)("button",{className:"".concat(C&&"pointer-events-none"),type:"submit",children:(0,s.jsx)("div",{className:"flex h-[1.45em] w-[1.45em] items-center justify-center rounded-full from-[#6ABFFB] to-[#A373E8] outline outline-1 ".concat(x[o].outlineColor," transition hover:bg-gradient-to-br"),children:(0,s.jsx)("div",{className:"h-[1.29em] w-[1.29em] rounded-full ".concat(x[o].background2Color," transition")})})}),(0,s.jsx)("input",{disabled:C,value:f,className:"".concat(C&&"pointer-events-none"," mt-[0.3em] w-[25em] bg-transparent px-2 text-[1.1rem] ").concat(x[o].textInput," ").concat(x[o].placeholder," outline-none transition"),placeholder:"Create a new todo...",type:"text",onChange:e=>{b(e.target.value)}})]}),(0,s.jsxs)("div",{ref:a,className:"mt-[1.5em] flex w-full flex-col ".concat("Dark"===o?"shadow-[0_30px_50px_-0px_rgba(0,0,0,0.4)]":"shadow-[0_30px_50px_-0px_rgba(0,0,0,0.07)]"," transition "),children:[e.map((n,r)=>(0,s.jsxs)("div",{className:"flex flex-col transition",children:[(0,s.jsx)(y,{index:r,classExtension:"All"===N?"flex":"Active"===N?e[r].completed?"hidden":"flex":e[r].completed?"flex":"hidden",buttonCheckClick:()=>{t(e=>{let t=[...e];return t[r]={...t[r],completed:!t[r].completed},t})},buttonCrossCLick:()=>{t(e=>{let t=[...e];return t.splice(r,1),t})},completed:n.completed,task:n.task}),(0,s.jsx)("div",{className:"h-[1px] w-full ".concat(x[o].lineColor," transition")})]},r)),(0,s.jsxs)("div",{className:"flex h-[3em] w-full select-none items-center justify-between rounded-b-[0.3em] px-6 ".concat(x[o].background2Color," px-1 md:px-6 ").concat(x[o].text3," transition"),children:[(0,s.jsxs)("span",{className:"text-[0.9rem]",children:[e.filter(e=>!e.completed).length," items left"]}),(0,s.jsxs)("div",{className:"".concat(C&&"pointer-events-none"," flex gap-[3.3em]"),children:[(0,s.jsx)("div",{className:"hidden gap-[0.9em] md:flex",children:["All","Active","Completed"].map(e=>(0,s.jsx)("button",{onClick:()=>{_(e)},className:"".concat(e===N?"text-[#5480D8]":x[o].textHover," text-[0.9rem] font-[700] transition"),children:e},e))}),(0,s.jsx)("button",{onClick:()=>{t(e=>[...e.filter(e=>!e.completed)])},className:"text-[0.9rem] transition ".concat(x[o].textHover),children:"Clear Completed"})]})]})]})]}),(0,s.jsx)("div",{className:"w-full px-4 md:hidden",children:(0,s.jsx)("div",{className:"mt-4 flex h-[3em] w-full items-center justify-center rounded-[0.3em] ".concat(x[o].background2Color," ").concat("Dark"===o?"shadow-[0_30px_50px_-0px_rgba(0,0,0,0.4)]":"shadow-[0_30px_50px_-0px_rgba(0,0,0,0.07)]"," ").concat(x[o].text3," transition"),children:(0,s.jsx)("div",{className:"flex gap-[1em]",children:["All","Active","Completed"].map(e=>(0,s.jsx)("button",{onClick:()=>{_(e)},className:"".concat(e===N?"text-[#5480D8]":x[o].textHover," text-[0.9rem] font-[700] transition"),children:e},e))})})}),(0,s.jsx)("span",{className:"mt-[3.6em] text-[0.85rem] ".concat(x[o].textBottom," pb-[3em]"),children:"Drag and drop to reorder list"})]})]})}}},function(e){e.O(0,[986,971,938,744],function(){return e(e.s=8994)}),_N_E=e.O()}]);